{"version":3,"sources":["js/animation/bg.js"],"names":["moonAnimation","canvas","document","getElementById","ctx","getContext","ballRadius","dx","dy","e","window","innerWidth","t","innerHeight","x","Math","floor","random","y","timer","resizeChanged","width","height","draw","drawBall","img","createElement","circle","Path2D","arc","PI","src","moon","fillStyle","fill","drawImage","addEventListener","event","isPointInPath","clientX","clientY","clearInterval","cat","querySelector","classList","add","setInterval","remove","clearRect","console","log"],"mappings":";;;;;AAgFa,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAhFb,IAAA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,yBA+Ea,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7EN,SAASA,IACNC,IAAAA,EAASC,SAASC,eAAe,UACnCC,EAAMH,EAAOI,WAAW,MACxBC,EAAa,GACbC,EAAK,EACLC,GAAM,EACNC,EAAIC,OAAOC,WACXC,EAAIF,OAAOG,YACXC,EAAIC,KAAKC,MAAMD,KAAKE,UAAYR,EAAI,GAAK,IAAM,GAC/CS,EAAIH,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,GAAK,IAAM,GAC/CO,EAAQ,GAMHC,SAAAA,IACLX,EAAIC,OAAOC,WACXC,EAAIF,OAAOG,YACXZ,EAAOoB,MAAQZ,EACfR,EAAOqB,OAASV,EAqCXW,SAAAA,KAlCAC,WACLvB,EAAOoB,MAAQZ,EACfR,EAAOqB,OAASV,EAEVa,IAAAA,EAAMvB,SAASwB,cAAc,OAC7BC,EAAS,IAAIC,OACnBD,EAAOE,IAAIf,EAAGI,EAAGZ,EAAY,EAAa,EAAVS,KAAKe,IACrCL,EAAIM,IAAMC,EAAV,QACA5B,EAAI6B,UAAY,cAChB7B,EAAI8B,KAAKP,GACTvB,EAAI+B,UAAUV,EAAKX,EAAI,GAAII,EAAI,IAE/BjB,EAAOmC,iBAAiB,QAAS,SAACC,GAE1BjC,EAAIkC,cAAcX,EAAQU,EAAME,QAASF,EAAMG,UAC/CC,cAActB,GACdM,EAAIM,IAAMW,EAAV,QACAxC,SAASyC,cAAc,SAASC,UAAUC,IAAI,UAC9C3C,SAASyC,cAAc,QAAQC,UAAUC,IAAI,QAG7CJ,cAActB,GACdA,EAAQ2B,YAAYvB,EAAM,IAC1BrB,SAASyC,cAAc,SAASC,UAAUG,OAAO,UACjD7C,SAASyC,cAAc,QAAQC,UAAUG,OAAO,OAEpD3C,EAAI4C,UAAU,EAAG,EAAG/C,EAAOoB,MAAOpB,EAAOqB,QACzClB,EAAI8B,KAAKP,GACTvB,EAAI+B,UAAUV,EAAKX,EAAI,GAAII,EAAI,MAEnCuB,cAActB,GACdA,EAAQ2B,YAAYvB,EAAM,IAI1BC,IAEIV,EAAIP,EAAKN,EAAOoB,MAAQf,EAAaA,EAAa,GAAKQ,EAAIP,EAAKD,EAAaA,EAAa,KAC1FC,GAAMA,IAENW,EAAIV,EAAKP,EAAOqB,OAAShB,EAAaA,EAAa,GAAKY,EAAIV,EAAKF,EAAaA,EAAa,KAC3FE,GAAMA,GAGVM,GAAKP,EACLW,GAAKV,EAGTyC,QAAQC,IAAI,yBA1DRxC,OAAO0B,iBAAiB,SAAUhB,GA6DtCG,IAGJvB","file":"bg.8cb48b9b.map","sourceRoot":"..\\src","sourcesContent":["import moon from \"../../images/moon.png\";\r\nimport cat from \"../../images/cat.png\";\r\n\r\nexport function moonAnimation() {\r\n    const canvas = document.getElementById(\"canvas\");\r\n    let ctx = canvas.getContext(\"2d\");\r\n    let ballRadius = 18;\r\n    let dx = 3;\r\n    let dy = -3;\r\n    let e = window.innerWidth;\r\n    let t = window.innerHeight;\r\n    let x = Math.floor(Math.random() * (e - 10 + 1)) + 10;\r\n    let y = Math.floor(Math.random() * (t - 50 + 1)) + 10;\r\n    let timer = 15;\r\n\r\n    function ifResize() {\r\n        window.addEventListener(\"resize\", resizeChanged);\r\n    }\r\n\r\n    function resizeChanged() {\r\n        e = window.innerWidth;\r\n        t = window.innerHeight;\r\n        canvas.width = e;\r\n        canvas.height = t;\r\n    }\r\n\r\n    function drawBall() {\r\n        canvas.width = e;\r\n        canvas.height = t;\r\n\r\n        const img = document.createElement('img');\r\n        const circle = new Path2D();\r\n        circle.arc(x, y, ballRadius, 0, Math.PI * 2);\r\n        img.src = moon;\r\n        ctx.fillStyle = 'transparent';\r\n        ctx.fill(circle);\r\n        ctx.drawImage(img, x - 12, y - 12);\r\n\r\n        canvas.addEventListener('click', (event) => {\r\n            // Check whether point is inside circle\r\n            if (ctx.isPointInPath(circle, event.clientX, event.clientY)) {\r\n                clearInterval(timer);\r\n                img.src = cat;\r\n                document.querySelector('.hide').classList.add('active');\r\n                document.querySelector('.cat').classList.add('go');\r\n            }\r\n            else {\r\n                clearInterval(timer);\r\n                timer = setInterval(draw, 15);\r\n                document.querySelector('.hide').classList.remove('active');\r\n                document.querySelector('.cat').classList.remove('go');\r\n            }\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            ctx.fill(circle);\r\n            ctx.drawImage(img, x - 12, y - 12);\r\n        });\r\n        clearInterval(timer);\r\n        timer = setInterval(draw, 15);\r\n    }\r\n\r\n    function draw() {\r\n        drawBall();\r\n\r\n        if (x + dx > canvas.width - ballRadius + ballRadius / 3 || x + dx < ballRadius - ballRadius / 3) {\r\n            dx = -dx;\r\n        }\r\n        if (y + dy > canvas.height - ballRadius + ballRadius / 3 || y + dy < ballRadius - ballRadius / 3) {\r\n            dy = -dy;\r\n        }\r\n\r\n        x += dx;\r\n        y += dy;\r\n    }\r\n\r\n    console.log('Try to catch the Moon');\r\n\r\n    ifResize();\r\n    draw();\r\n}\r\n\r\nmoonAnimation();"]}